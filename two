  DBConnectionFailureMetric:
    Type: AWS::Logs::MetricFilter
    Properties: 
      FilterPattern: '?"Communications link failure" ?"Too many connections" ?"Cannot create PoolableConnectionFactory"'
      LogGroupName: !Sub "/a${AssetInsightId}/${ServiceEnvironment}/Tomcat/catalina.out"
      MetricTransformations: 
        - 
          MetricValue: "1"
          MetricNamespace: !Sub "a${AssetInsightId}-LogMetrics"
          MetricName: !Sub "a${AssetInsightId}-${ProductName}-${ServiceEnvironment}-${AWS::Region}-DB-Connection-Failed"
